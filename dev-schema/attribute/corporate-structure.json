{
	"$id": "http://platform.selfkey.org/schema/attribute/corporate-structure.json",
	"$schema": "http://platform.selfkey.org/schema/identity-attribute.json",
	"identityAttribute": true,
	"system": true,
	"identityAttributeRepository": "http://platform.selfkey.org/repository.json",
	"entityType": ["corporate"],
	"title": "Corporate Structure",
	"type": "object",
	"properties": {
		"companyType": {
			"$ref": "http://platform.selfkey.org/schema/attribute/legal-entity-type.json"
		}
	},
	"dependencies": {
		"companyType": {
			"oneOf": [
				{
					"properties": {
						"companyType": {
							"enum": ["Company Limited by Shares (LTD)"]
						},
						"members": {
							"type": "array",
							"items": {
								"type": "object",
								"properties": {
									"positions": {
										"$ref": "#/definitions/ltd_positions"
									},
									"entity": {
										"oneOf": [
											{
												"$ref": "#/definitions"
											}
										]
									}
								}
							}
						}
					}
				}
			]
		}
	},
	"definitions": {
		"positions": {
			"definitions": {
				"ltd": {},
				"llc": {},
				"tst": {},
				"fnd": {},
				"llp": {},
				"other": {}
			}
		},
		"entities": {
			"definitions": {
				"individual": {
					"type": "object",
					"properties": {
						"type": {
							"const": "individual"
						},
						"firstName": {
							"$ref": "http://platform.selfkey.org/schema/attribute/first-name.json"
						},
						"lastName": {
							"$ref": "http://platform.selfkey.org/schema/attribute/last-name.json"
						},
						"did": {
							"$ref": "http://platform.selfkey.org/schema/attribute/did.json"
						},
						"email": {
							"$ref": "http://platform.selfkey.org/schema/attribute/email.json"
						}
					}
				},
				"corporate": {
					"type": "object",
					"properties": {
						"type": {
							"const": "corporate"
						},
						"companyType": {
							"$ref": "http://platform.selfkey.org/schema/attribute/legal-entity-type.json"
						},
						"companyName": {
							"$ref": "http://platform.selfkey.org/schema/attribute/company-name.json"
						},
						"did": {
							"$ref": "http://platform.selfkey.org/schema/attribute/did.json"
						},
						"email": {
							"$ref": "http://platform.selfkey.org/schema/attribute/email.json"
						}
					}
				}
			}
		}
	},
	"required": []
}
